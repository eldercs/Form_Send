(function(t){function e(e){for(var n,c,a=e[0],i=e[1],l=e[2],d=0,b=[];d<a.length;d++)c=a[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&b.push(o[c][0]),o[c]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);u&&u(e);while(b.length)b.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],n=!0,a=1;a<r.length;a++){var i=r[a];0!==o[i]&&(n=!1)}n&&(s.splice(e--,1),t=c(c.s=r[0]))}return t}var n={},o={app:0},s=[];function c(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=t,c.c=n,c.d=function(t,e,r){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(r,n,function(e){return t[e]}.bind(null,n));return r},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],i=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=i;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"02c4":function(t,e,r){"use strict";r("4ef6")},2294:function(t,e,r){},"22e9":function(t,e,r){},"474a":function(t,e,r){},"4ef6":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);var n=r("7a23");const o={class:"text-center md:text-left"};function s(t,e,r,s,c,a){const i=Object(n["o"])("Buttons"),l=Object(n["o"])("Popup_Form");return Object(n["j"])(),Object(n["e"])("div",o,[Object(n["g"])(i,{classBtn:"btn-blue",textBtn:this.address[0].name,onClick:e[0]||(e[0]=t=>a.openPop(1))},null,8,["textBtn"]),Object(n["g"])(i,{classBtn:"btn-black-green",textBtn:this.address[1].name,onClick:e[1]||(e[1]=t=>a.openPop(2))},null,8,["textBtn"]),Object(n["g"])(l)])}function c(t,e,r,o,s,c){return Object(n["j"])(),Object(n["e"])("button",{class:Object(n["i"])([r.classBtn,"btn"])},Object(n["q"])(r.textBtn),3)}var a={props:["classBtn","textBtn"],methods:{}},i=(r("9977"),r("6b0d")),l=r.n(i);const u=l()(a,[["render",c]]);var d=u;function b(t,e,r,o,s,c){const a=Object(n["o"])("Form_Send"),i=Object(n["o"])("Form_Html");return t.$store.state.isOpen?(Object(n["j"])(),Object(n["e"])("div",{key:0,class:"backdrop fixed inset-0",onClick:e[0]||(e[0]=(...t)=>c.close&&c.close(...t))},[1===t.$store.state.chosePopup?(Object(n["j"])(),Object(n["c"])(a,{key:0})):2===t.$store.state.chosePopup?(Object(n["j"])(),Object(n["c"])(i,{key:1})):Object(n["d"])("",!0)])):Object(n["d"])("",!0)}const m=t=>(Object(n["l"])("data-v-01cf336f"),t=t(),Object(n["k"])(),t),p=m(()=>Object(n["f"])("h2",{class:"text-2xl"},"Заказать звонок",-1)),j={class:"send__form gap-x-5 mt-6 md:flex md:flex-wrap md:gap-x-7 xl:gap-x-5"},h={class:"send__form-item md:order-1 md:w-30 xl:order-0"},O=m(()=>Object(n["f"])("h3",null,"Имя*",-1)),f=m(()=>Object(n["f"])("br",null,null,-1)),v={key:0,class:"errors"},_={class:"send__form-item md:order-0 md:w-30 xl:order-1"},y=m(()=>Object(n["f"])("h3",null,"Телефон*",-1)),x=m(()=>Object(n["f"])("br",null,null,-1)),g={key:0,class:"errors"},S={class:"send__form-item md:order-2 md:w-30 xl:order-2"},k=m(()=>Object(n["f"])("h3",null,"Email*",-1)),w=m(()=>Object(n["f"])("br",null,null,-1)),P={key:0,class:"errors"},$={class:"send__form-item md:order-3 md:w-7/12 xl:order-3"},B=m(()=>Object(n["f"])("h3",null,"Город*",-1)),C=["value"],F=["value"],M=m(()=>Object(n["f"])("br",null,null,-1)),q={key:0,class:"errors"};function T(t,e,r,o,s,c){const a=Object(n["o"])("Buttons"),i=Object(n["p"])("mask");return Object(n["j"])(),Object(n["e"])("form",{class:"main__form relative mx-3 h-500 md:h-72 mt-24 xl:m-auto xl:mt-28 xl:w-793 xl:h-226 bg-white rounded-lg p-6 pr-7",onSubmit:e[4]||(e[4]=Object(n["v"])((...t)=>c.submit_form&&c.submit_form(...t),["prevent"])),onClick:e[5]||(e[5]=Object(n["v"])(()=>{},["stop"]))},[p,Object(n["f"])("div",j,[Object(n["f"])("div",h,[O,Object(n["u"])(Object(n["f"])("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>s.dataSubmit.name=t),placeholder:"Иван Иванов"},null,512),[[n["s"],s.dataSubmit.name]]),f,s.errors[1]?(Object(n["j"])(),Object(n["e"])("span",v,Object(n["q"])(s.errors[1]),1)):Object(n["d"])("",!0)]),Object(n["f"])("div",_,[y,Object(n["u"])(Object(n["f"])("input",{type:"tel","onUpdate:modelValue":e[1]||(e[1]=t=>s.dataSubmit.phone=t),placeholder:"+7(___)___-__-__"},null,512),[[n["s"],s.dataSubmit.phone],[i,"+7(###)###-##-##"]]),x,s.errors[2]?(Object(n["j"])(),Object(n["e"])("span",g,Object(n["q"])(s.errors[2]),1)):Object(n["d"])("",!0)]),Object(n["f"])("div",S,[k,Object(n["u"])(Object(n["f"])("input",{type:"email","onUpdate:modelValue":e[2]||(e[2]=t=>s.dataSubmit.email=t)},null,512),[[n["s"],s.dataSubmit.email]]),w,s.errors[3]?(Object(n["j"])(),Object(n["e"])("span",P,Object(n["q"])(s.errors[3]),1)):Object(n["d"])("",!0)]),Object(n["f"])("div",$,[B,Object(n["u"])(Object(n["f"])("select",{name:"",id:"","onUpdate:modelValue":e[3]||(e[3]=t=>s.dataSubmit.city=t),class:"ml-1"},[Object(n["f"])("option",{selected:"",hidden:"",value:t.$store.state.address[t.$store.state.choseCity].id},Object(n["q"])(t.$store.state.address[t.$store.state.choseCity].name),9,C),(Object(n["j"])(!0),Object(n["e"])(n["a"],null,Object(n["n"])(t.$store.state.address,(t,e)=>(Object(n["j"])(),Object(n["e"])("option",{value:t.id,key:e},Object(n["q"])(t.name),9,F))),128))],512),[[n["r"],s.dataSubmit.city]]),M,s.errors[4]?(Object(n["j"])(),Object(n["e"])("span",q,Object(n["q"])(s.errors[4]),1)):Object(n["d"])("",!0)])]),Object(n["g"])(a,{type:"submit",classBtn:"btn-green btn_submit absolute top-420 right-6 md:top-195 md:right-14 md:w-3/12 xl:top-36 xl:right-6 xl:w-170 m-0 mt-6",textBtn:"Отправить"})],32)}var H=r("bc3a"),I=r.n(H),U=r("3a60"),V=r.n(U),E={data(){return{errors:[],dataSubmit:{name:"",phone:"",email:"",city:""}}},mounted(){this.dataSubmit.city=this.$store.state.choseCity},methods:{async submit_form(){if(this.checkError(),this.redactPhone(),0==this.errors.length){let t=await I.a.post("http://hh.autodrive-agency.ru/test-tasks/front/task-7/",{name:this.dataSubmit.name,phone:this.dataSubmit.phone,email:this.dataSubmit.email,city_id:this.dataSubmit.city}).catch(t=>{console.log(t)});this.$store.state.htmlFIle=t.data,this.$store.state.chosePopup=2}},checkError(){this.errors=[];let t=0;for(let e in this.dataSubmit)t++,""===this.dataSubmit[e]?(this.errors[t]="Заполните это поле!",console.log("errors:",this.errors)):this.dataSubmit.phone.length<16&&(this.errors[2]="Слишком мало символов!")},redactPhone(){this.dataSubmit.phone=this.dataSubmit.phone.replace(/[^0-9+]/g,"")},close(){this.$store.commit("close")}},components:{TheMask:U["TheMask"],Buttons:d}};r("02c4");const J=l()(E,[["render",T],["__scopeId","data-v-01cf336f"]]);var L=J;const A=["innerHTML"];function z(t,e,r,o,s,c){return Object(n["j"])(),Object(n["e"])("div",{innerHTML:this.$store.state.htmlFIle,class:"main__form m-auto mt-28 w-96 h-72 bg-white rounded-lg p-6"},null,8,A)}var D={};const G=l()(D,[["render",z]]);var K=G,N={data(){return{}},methods:{close(){this.$store.commit("close")}},computed:{},components:{Form_Send:L,Form_Html:K}};r("be2b");const Q=l()(N,[["render",b],["__scopeId","data-v-1cf314b6"]]);var R=Q,W={data(){return{address:this.$store.state.address,data:{}}},methods:{openPop(t){this.$store.state.isOpen=!0,this.$store.state.choseCity=t}},name:"App",components:{Buttons:d,Popup_Form:R}};r("b067");const X=l()(W,[["render",s]]);var Y=X,Z=r("5502"),tt=Object(Z["a"])({state(){return{chosePopup:1,isOpen:!1,choseCity:0,htmlPage:"",address:[{id:1,name:"Москва"},{id:2,name:"Санкт-Петербург"},{id:3,name:"Казань"}]}},mutations:{close(t){t.isOpen=!1,t.chosePopup=1}},actions:{},modules:{}});r("ba8c");Object(n["b"])(Y).use(tt).use(V.a).mount("#app")},9977:function(t,e,r){"use strict";r("22e9")},b067:function(t,e,r){"use strict";r("474a")},ba8c:function(t,e,r){},be2b:function(t,e,r){"use strict";r("2294")}});
//# sourceMappingURL=app.c2574836.js.map